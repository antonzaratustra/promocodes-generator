# Текущие задачи и требования

## Фильтрация данных

### Статус оплаты
- Отображать только строки со статусом:
  - "Paid" в столбце "Payment status"
  - "Оплачено" в столбце "Статус оплаты"
- Применять фильтр совместно с фильтрацией по промокоду

### Обработка Referer

#### MRW RU + DRW RU таблица
- DRW RU: строки содержащие `https://restaurantweek.ru/dubai`
- MRW RU: строки не содержащие `https://restaurantweek.ru/dubai` (например, `https://restaurantweek.ru`, `https://restaurantweek.ru/moscow`)

#### MSW RU + DSW RU таблица
- DSW RU: строки содержащие `https://salonweek.ru/dubai`
- MSW RU: строки не содержащие `https://salonweek.ru/dubai` (например, `https://salonweek.ru`, `https://salonweek.ru/moscow`)

## Требуемые улучшения

### Демонстрационная страница
- Создать демо-страницу для презентации функционала

### Административная панель
- Добавить статистику по мероприятиям (количество покупок, суммы)
- Реализовать сортировку промокодов по:
  - Количеству продаж
  - Количеству привлеченных людей
- Добавить фильтр-поиск промокодов во время ввода
- Отображать общую сумму к выплате по всем рефералам

### Функционал промокодов
- Установить isPaid = false для новых записей в Firebase
- Проверка на существование одинаковых промокодов
- Добавить отображение сайта в списке при генерации промокода (тег)
- Улучшить отображение для промокодов, действующих на несколько мероприятий

### Интерфейс
- Добавить группировку по годам
- Рассмотреть скрытие истекших промокодов
- Улучшить отображение сроков действия промокодов

### Дополнительные функции
- Разработать реферальную/бонусную программу
- Добавить генерацию UTM меток на основе промокода
- Рассмотреть возможность создания промокода БЬЮТИИНСТРУМЕНТ на русском для MSW

### Документация и безопасность
- Записать обучающее видео
- Реализовать аутентификацию через Firebase для админки
- Добавить возможность управления паролями

### Технические вопросы для обсуждения
- Выбор между QWEN и Claude
- Унификация кода в App Script
- Структура базы данных и связь с Google таблицами
- Логика работы с промокодами на разных доменах
















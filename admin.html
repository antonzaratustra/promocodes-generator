<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;500;600;700&display=swap">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="admin.css">
    <script src="admin.js"></script>
    <script src="utils.js"></script>
</head>
<body>
    <div class="container">
        <header class="admin-header">
            <h1>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤</h1>
            <div class="filters">
                <div class="filter-group">
                    <label for="eventFilter">–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ:</label>
                    <select id="eventFilter">
                        <option value="all">–í—Å–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</option>
                        <option value="MRWRU">üá∑üá∫üçΩÔ∏èRestaurantWeek Moscow</option>
                        <option value="DRWRU">üá∑üá∫üçΩÔ∏èRestaurantWeek Dubai RU</option>
                        <option value="DRWEN">üåçüçΩÔ∏èRestaurantWeek Dubai ENG</option>
                        <option value="MSWRU">üá∑üá∫üíÖSalonWeek Moscow</option>
                        <option value="DSWRU">üá∑üá∫üíÖSalonWeek Dubai RU</option>
                        <option value="DSWEN">üåçüíÖSalonWeek Dubai ENG</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="yearFilter">–ì–æ–¥:</label>
                    <select id="yearFilter">
                        <option value="all">–í—Å–µ –≥–æ–¥—ã</option>
                        <!-- –ë—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ —Å –ø–æ–º–æ—â—å—é JavaScript -->
                    </select>
                </div>
                <button id="applyFilters" class="filter-btn">–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã</button>
            </div>
        </header>

        <main>
            <div class="promo-codes-container">
                <table id="promoCodesTable" class="admin-table">
                    <thead>
                        <tr>
                            <th>–ü—Ä–æ–º–æ–∫–æ–¥</th>
                            <th>–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ</th>
                            <th>–ì–æ–¥</th>
                            <th>–°–æ–∑–¥–∞–Ω</th>
                            <th>–†–µ—Ñ–µ—Ä–∞–ª—ã</th>
                            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                        </tr>
                    </thead>
                    <tbody id="promoCodesTableBody">
                        <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —Å –ø–æ–º–æ—â—å—é JavaScript -->
                        <tr class="loading-row">
                            <td colspan="6">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </main>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Ñ–µ—Ä–∞–ª–∞–º–∏ -->
    <div id="referralsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–†–µ—Ñ–µ—Ä–∞–ª—ã –ø–æ –ø—Ä–æ–º–æ–∫–æ–¥—É <span id="modalPromoCode"></span></h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <div class="referrals-stats">
                    <div class="stat-item">
                        <span class="stat-label">–í—ã–ø–ª–∞—á–µ–Ω–æ:</span>
                        <span id="modalPaidAmount" class="stat-value">-</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">–ö –æ–ø–ª–∞—Ç–µ:</span>
                        <span id="modalToPay" class="stat-value">-</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">–õ—é–¥–µ–π –ø—Ä–∏–≤–ª–µ—á–µ–Ω–æ:</span>
                        <span id="modalPeopleReferred" class="stat-value">-</span>
                    </div>
                </div>
                
                <div class="referrals-table-container">
                    <table id="modalReferralsTable" class="referrals-table">
                        <thead>
                            <tr>
                                <th>–í—Ä–µ–º—è –æ–ø–ª–∞—Ç—ã</th>
                                <th>ID –∑–∞–∫–∞–∑–∞</th>
                                <th>–ü—Ä–æ–¥—É–∫—Ç—ã</th>
                                <th>–ò–º—è –∫—É–ø–∏–≤—à–µ–≥–æ</th>
                                <th>–¶–µ–Ω–∞</th>
                                <th>Email</th>
                                <th>–í—ã–ø–ª–∞—Ç–∞</th>
                                <th>–û–ø–ª–∞—á–µ–Ω–æ</th>
                            </tr>
                        </thead>
                        <tbody id="modalReferralsTableBody">
                            <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —Å –ø–æ–º–æ—â—å—é JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button id="saveChangesBtn" class="primary-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
                <button id="closeModalBtn" class="secondary-btn">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è -->
    <div id="deleteConfirmModal" class="modal">
        <div class="modal-content delete-confirm">
            <div class="modal-header">
                <h2>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è</h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <p>–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥ <strong id="deletePromoCode"></strong>?</p>
                <p>–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.</p>
            </div>
            <div class="modal-footer">
                <button id="confirmDeleteBtn" class="danger-btn">–£–¥–∞–ª–∏—Ç—å</button>
                <button id="cancelDeleteBtn" class="secondary-btn">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <script src="firebase-config.js"></script>
    <script src="admin.js"></script>
</body>
</html> 